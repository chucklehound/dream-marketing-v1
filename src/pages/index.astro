---
import Layout from "../layouts/Layout.astro";

import Button from "../components/Button.astro";
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";

import chats1 from '/src/img/home-chats.png';
import chats2 from '/src/img/home-chats-2.png';
import chats3 from '/src/img/home-chats-3.png';

import card1 from '/src/img/carousel-1--phone.png';
import card2 from '/src/img/carousel-2--whatsapp.png';
import card3 from '/src/img/carousel-3--update.png';
import card4 from '/src/img/carousel-4--success.png';

import whatsAppIcon from '/src/img/whats-app-icon.svg';
import phoneIcon from '/src/img/phone-call.svg';

import quoteLogo from '/src/img/givewheel-logo.png';

import ctaDreamies from '/src/img/end-cta-guys.png';

import DreamieCarousel from '../components/DreamieCarousel.jsx';

// Import dreamie1 to dreamie25 as an array
import dreamie1 from '/src/img/hero-dreamies/dreamie-1.png';
import dreamie2 from '/src/img/hero-dreamies/dreamie-2.png';
import dreamie3 from '/src/img/hero-dreamies/dreamie-3.png';
import dreamie4 from '/src/img/hero-dreamies/dreamie-4.png';
import dreamie5 from '/src/img/hero-dreamies/dreamie-5.png';
import dreamie6 from '/src/img/hero-dreamies/dreamie-6.png';
import dreamie7 from '/src/img/hero-dreamies/dreamie-7.png';
import dreamie8 from '/src/img/hero-dreamies/dreamie-8.png';
import dreamie9 from '/src/img/hero-dreamies/dreamie-9.png';
import dreamie10 from '/src/img/hero-dreamies/dreamie-10.png';
import dreamie11 from '/src/img/hero-dreamies/dreamie-11.png';
import dreamie12 from '/src/img/hero-dreamies/dreamie-12.png';
import dreamie13 from '/src/img/hero-dreamies/dreamie-13.png';
import dreamie14 from '/src/img/hero-dreamies/dreamie-14.png';
import dreamie15 from '/src/img/hero-dreamies/dreamie-15.png';
import dreamie16 from '/src/img/hero-dreamies/dreamie-16.png';
import dreamie17 from '/src/img/hero-dreamies/dreamie-17.png';
import dreamie18 from '/src/img/hero-dreamies/dreamie-18.png';
import dreamie19 from '/src/img/hero-dreamies/dreamie-19.png';
import dreamie20 from '/src/img/hero-dreamies/dreamie-20.png';
import dreamie21 from '/src/img/hero-dreamies/dreamie-21.png';
import dreamie22 from '/src/img/hero-dreamies/dreamie-22.png';
import dreamie23 from '/src/img/hero-dreamies/dreamie-23.png';
import dreamie24 from '/src/img/hero-dreamies/dreamie-24.png';
import dreamie25 from '/src/img/hero-dreamies/dreamie-25.png';

const dreamieImages = [
  dreamie1, dreamie2, dreamie3, dreamie4, dreamie5,
  dreamie6, dreamie7, dreamie8, dreamie9, dreamie10,
  dreamie11, dreamie12, dreamie13, dreamie14, dreamie15,
  dreamie16, dreamie17, dreamie18, dreamie19, dreamie20,
  dreamie21, dreamie22, dreamie23, dreamie24, dreamie25
];

// Just return an array of src strings now
const images = dreamieImages.map((img) => img.src);

const messages = [
  // cycle 1
  { name: "Ben",     type: "Head of Marketing",  text: "overseeing the build of the company website" },   // start a business
  { name: "Tina",    type: "Head of Sales",      text: "researching and building target company lists" }, // enter new markets
  { name: "Ethan",   type: "Personal Assistant", text: "managing incoming phone calls" },                 // save an hour
  { name: "Sophia",  type: "Head of Sales",      text: "sending contracts out for signature" },           // handle more customers
  { name: "Anna",    type: "Head of Finance",    text: "chasing up missing receipts and invoices" },      // get paid on time

  // cycle 2
  { name: "Chris",   type: "Head of Marketing",  text: "creating and managing social media content" },
  { name: "Alex",    type: "Head of Sales",      text: "testing and refining outreach campaigns" },
  { name: "Nina",    type: "Personal Assistant", text: "arranging travel for frequent business trips" },
  { name: "Pablo",   type: "Personal Assistant", text: "handling and directing phone enquiries" },
  { name: "Charlie", type: "Head of Finance",    text: "following up on missing financial documents" },

  // cycle 3
  { name: "Leo",     type: "Head of Marketing",  text: "planning and creating social media posts" },
  { name: "Omar",    type: "Head of Marketing",  text: "selecting and preparing company lists for campaigns" },
  { name: "Kara",    type: "Personal Assistant", text: "booking complex travel itineraries" },
  { name: "Sam",     type: "Personal Assistant", text: "following up quickly with every new enquiry" },   // tweaked
  { name: "Priya",   type: "Head of Finance",    text: "tracking down outstanding receipts and invoices" },

  // cycle 4
  { name: "Grace",   type: "Head of Marketing",  text: "setting up your first ad campaign" },             // tweaked
  { name: "Jack",    type: "Head of Sales",      text: "identifying prospects in adjacent markets" },
  { name: "Philipp", type: "Personal Assistant", text: "extracting and organising receipts from emails" },
  { name: "Liam",    type: "Personal Assistant", text: "managing onboarding paperwork for new customers" }, // tweaked
  { name: "Hugo",    type: "Head of Finance",    text: "ensuring all receipts and invoices are accounted for" },

  // cycle 5
  { name: "Jordan",  type: "Personal Assistant", text: "organising your business calendar from day one" },  // tweaked
  { name: "Olivia",  type: "Head of Sales",      text: "opening conversations in new regions" },
  { name: "Isla",    type: "Personal Assistant", text: "organising receipts and uploading them to accounts" },
  { name: "Noah",    type: "Personal Assistant", text: "keeping all customer conversations organised in one place" }, // tweaked
  { name: "Maya",    type: "Head of Finance",    text: "following up on incomplete financial records" }
];

import Carousel from '../components/Carousel.astro';

const contentBlocks = [
  {
    image: card1,
    title: 'No complicated apps to learn, starting is as simple as making a call.',
    subtitle: 'Find out more about',
    ctaText: 'Getting Started',
    ctaUrl: '/get-started',
  },
  {
    image: card2,
    title: 'Make plans with a message, and leave your Dream team to handle the hard work.',
    subtitle: 'Find out more about',
    ctaText: 'What Dreamies can do',
    ctaUrl: '/your-ai-employees',
  },
  {
    image: card3,
    title: 'Grow your business without growing your workload. Your team handles the hard work, you take the call.',
    subtitle: 'Find out more about',
    ctaText: 'Sales Campaigns',
    ctaUrl: '/your-ai-employees/head-of-sales',
  },
  {
    image: card4,
    title: 'Priced to get your business started, built to make it succeed.',
    subtitle: 'Find out more about',
    ctaText: 'Dream Pricing',
    ctaUrl: '/pricing',
  },
];
---

<Layout title="AI employees that help your business grow">
  <Navigation />
  <header class="hero-home">
    <div class="hero-elements main-content">
      <section class="header-text">
        <h1 class="page-title">
          AI employees that help you
          <span id="rotating-text">difficult markets</span>
        </h1>
        <div class="actions">
          <Button label="Get started" href="/get-started" target="_blank" size="medium"
            ></Button>
          <Button
            label="Meet the Dreamies"
            href="/your-ai-employees"
            target=""
            variant="secondary"
            size="medium"
          />
        </div>
      </section>
      <section class="header-image home-hero">
        <div class="ticker-window">
          <DreamieCarousel images={images} messages={messages} client:load />
        </div>
      </section>
    </div>
  </header>
  <main>
    <section class="main-content">
      <article class="full-width-contrast promo-home promo-phone">
        <div class="content-container">
          <div class="content-title">
            <h2>Hire your team as easily as <br/><span class="highlight-title">saying ‚Äòhello...‚Äô</span></h2>
            <p>No complicated sign-up, either call or WhatsApp and hire your Dream team in minutes.</p>
            <div class="actions">
              <Button
            label="Call your PA"
            href="tel:+447476963324"
            target="_blank"
            variant="secondary"
            size="medium"
          ><img src={phoneIcon.src}></Button>
          <Button
            label="Message on WhatsApp"
            href="https://wa.me/447911123456?text=Hi%20I%27m%20interested%20in%20Dream"
            target=""
            variant="secondary"
            size="medium"
          ><img src={whatsAppIcon.src}></Button>
            </div>
          </div>
        </div>
      </article>
    </section>
    <section class="main-content">
      <article class="content-container full-width">
        <div class="content-title">
          <h2>Run your business <br/>as easily as <span class="highlight-title">sending a text</span></h2>
          <p>Dream keeps things simple on the surface, while powerful AI managers handle the hard stuff.</p>
        </div>
        <Carousel items={contentBlocks} />
      </article>
    </section>
    <section class="main-content">
      <article class="full-width-contrast promo-home promo-human">
        <div class="content-container">
          <div class="content-title">
            <h2>Dream is your 24/7 <br/><span class="highlight-title">AI powered</span> workforce</h2>
            <p>The employees that you need to reach your business goals, <br/>working for you every hour of every day.</p>
          </div>
        </div>
      </article>
    </section>
    <section class="main-content contain-on-mobile">
      <article class="content-container">
        <div class="breakout rotating-chats">
          <div class="block" style={`background-image: url(${chats1.src});`}></div>
          <div class="block" style={`background-image: url(${chats2.src});`}></div>
          <div class="block" style={`background-image: url(${chats3.src});`}></div>
        </div>
        <div class="content-title">
          <h2>Built to <span class="highlight-title">handle the things</span> <br/>you don't want to</h2>
          <p>Your AI employees are tailored for your business - they learn what you do, how you speak & how you work.¬†</p>
        </div>
      </article>
    </section>
    <section class="customer-quote main-content"> 
      <article class="quote-body"> 
        <div class="content-title">
          <h2>AI built for <span class="highlight-title">everyone</span></h2>
        </div>
        <blockquote>
          <p>‚ÄúDream has been a game-changer for GiveWheel. Their Sales Manager is like a second brain‚Äîit finds the right companies, reaches out, follows up, and keeps leads warm. We‚Äôre now top of mind for corporate charity campaigns, without stretching our team. It‚Äôs taken us from reactive to proactive, without hiring.‚Äù</p>

      <cite> 
        <span>Charlie Hart, Co-founder at Givewheel</span> 
        <img src={quoteLogo.src} alt="The logo for Givewheel"> 
      </cite> 
    </blockquote> 
  </article> 
</section>
<section class="final-cta"> 
  <article class="main-content cta-container"> 
    <img src={ctaDreamies.src} alt="The 5 Dreamies of Dream - Business, Sales, Marketing, Finance, and Design" />
    <div class="content-title">
      <h2><span class="highlight-title">Grow your business </span><br/>with Dream</h2>
    </div>
    <Button label="Get started" href="/get-started" target="_blank" size="medium"
            ></Button> 
          </article> 
    </section>
</main>
    
<Footer />

<script>
  (function startSharedTicker(period = 5000) {
    if (window.__dreamTickerStarted) return;
    window.__dreamTickerStarted = true;

    // Fire an initial tick so everything aligns immediately
    window.dispatchEvent(new CustomEvent("dream:tick"));

    let expected = Date.now() + period;
    function tick() {
      window.dispatchEvent(new CustomEvent("dream:tick"));
      const drift = Date.now() - expected;
      expected += period;
      setTimeout(tick, Math.max(0, period - drift));
    }
    setTimeout(tick, period);
  })();
</script>

<style>
  #rotating-text {
    transition: opacity 0.4s; /* must match FADE in React */
    opacity: 0;
  }
</style>

<span id="rotating-text" aria-live="polite"></span>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const el = document.getElementById("rotating-text");
    const texts = [
      "start a business",
      "enter new markets",
      "save an hour every day",
      "handle more customers",
      "get paid on time"
    ];
    let i = 0;
    const FADE = 400; // ms

    // Render first item immediately
    el.textContent = texts[i];
    el.style.opacity = "1";
    i = (i + 1) % texts.length;

    function advance() {
      el.style.opacity = "0";
      setTimeout(() => {
        el.textContent = texts[i];
        el.style.opacity = "1";
        i = (i + 1) % texts.length;
      }, FADE);
    }

    window.addEventListener("dream:tick", advance);
  });
</script>

  <!-- <script>
    document.addEventListener("DOMContentLoaded", () => {
      const rotatingTextElement = document.getElementById("rotating-text");
      const texts = [
        "start a business",
        "enter new markets",
        "save an hour every day",
        "handle more customers",
      ];
      let index = 0;

      function rotateText() {
        // Fade out
        rotatingTextElement.style.opacity = "0";

        setTimeout(() => {
          // Change text after fade out
          rotatingTextElement.textContent = texts[index];

          // Fade in
          rotatingTextElement.style.opacity = "1";

          // Move to next index, looping back to the start
          index = (index + 1) % texts.length;
        }, 200); // Adjust timing for fade-out before changing text

        // Repeat after 5 seconds
        setTimeout(rotateText, 5000);
      }

      // Start the rotation
      rotateText();
    });
  </script> -->




<script type="module">
  const target = document.querySelector('.promo-human');

  const observer = new IntersectionObserver(
    ([entry], observer) => {
      if (entry.isIntersecting) {
        target.classList.add('visible');
        observer.unobserve(target); // üî• Stop observing after first trigger
      }
    },
    {
      root: null,
      rootMargin: '0px',
      threshold: 0.4
    }
  );

  if (target) observer.observe(target);
</script>


</Layout>
