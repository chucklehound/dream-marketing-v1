---
import Layout from "../layouts/Layout.astro";

import { Image, getImage } from 'astro:assets';

import Button from "../components/Button.astro";
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";

import Modal from "../components/Modal.astro";

import salesStatue from '/src/img/statue-sales.png';
import personalStatus from '/src/img/personal-statue.png';

import ArrowCircle from '/src/img/icons/arrow-circle.svg?raw';

import taxiSticker from "/src/img/stickers/taxi.png";
import calendarSticker from "/src/img/stickers/calendar.png";

import featureSticker1 from '/src/img/stickers/feature1.png';

---



<Layout title="Dream - AI that grows your business">
  

  <Navigation />
  <header class="hero-home index-hero">
    <div class="hero-elements main-content">
      <section class="header-text">
        <aside class="ticker-badge">Only 14 available this month</aside>
        <h1 class="page-title">
          The assistant you’ve always been promised.
        </h1>
        <div class="actions hero-actions">
          <Button target="" data-open-modal="mailing-list-modal">Join the waitlist <fragment set:html={ArrowCircle}/></Button>
        </div>
        <Image class="hero-statue" src={salesStatue} alt="A pale white statue of an assistant" width={335} height={503}/>
      </section>
    </div>
  </header>
  <main>
    <section class="content-panels">
      <article>
        <h4>Your assistants</h4>
        <h2>Work <s>like</s> better than people</h2>
      </article>
      <div class="wow-content sticker-host">
        <div class="sticker-layer">
          <img
            class="sticker"
            src={taxiSticker.src}
            alt=""
            draggable="false"
            loading="eager"
            decoding="async"
            style="top: 85%; left: 95%; width: 256px;"
            data-sticker
          />
          <img
            class="sticker"
            src={calendarSticker.src}
            alt=""
            draggable="false"
            loading="eager"
            decoding="async"
            style="left: 5%; top: 18%; width: 256px;"
            data-sticker
          />
        </div>
      </div>
    </section>

    <section class="content-panels">
      <article>
      <h4>What makes them different?</h4>
      <h2>Dream's assistants</h2>
      </article>
      
      
      <div class="sticker-host">
      
        <div class="assistant-features">
          <div class="content-box">
            <img
            class="sticker"
            src={featureSticker1.src}
            alt=""
            draggable="false"
            loading="eager"
            decoding="async"
            style="left: 30%; top: -5%; width: 256px;"
            data-sticker
          />
            <h5>Work inside your systems</h5>
            <p>They don’t draft. They do. Emails sent. Meetings booked. CRM updated.</p>
            </div>
            
            
            <div class="content-box">
              <img
              class="sticker"
              src={featureSticker1.src}
              alt=""
              draggable="false"
              loading="eager"
              decoding="async"
              style="left: 30%; top: -5%; width: 256px;"
              data-sticker
            />
            <h5>Deploy humans on demand</h5>
            <p>When AI isn’t enough, they spin up people. Calls made. Forms filled. Deals progressed.</p>
            </div>
            
            
            <div class="content-box">
              <img
              class="sticker"
              src={featureSticker1.src}
              alt=""
              draggable="false"
              loading="eager"
              decoding="async"
              style="left: 30%; top: -5%; width: 256px;"
              data-sticker
            />
            <h5>Remember what matters</h5>
            <p>One brain across inbox, calendar, travel, and sales. No context lost. No threads dropped.</p>
            </div>
            
            
            <div class="content-box">
              <img
              class="sticker"
              src={featureSticker1.src}
              alt=""
              draggable="false"
              loading="eager"
              decoding="async"
              style="left: 30%; top: -5%; width: 256px;"
              data-sticker
            />
            <h5>Take ownership</h5>
            <p>You set the goal. They take it from there. From first action to final result.</p>
            </div>
        </div>
      
      
      </div>
      </section>

    <section class="content-panels centre-title">
      <article>
        <h4>It's not choosing, it's hiring</h4>
        <h2>The best assistant you'll never meet</h2>
      </article>
      <div class="sticker-host agent-choice">
        <section class="content-panels agent-panels">
          <!-- Personal Assistant -->
          <article class="agent-block">
          <div class="agent-copy">
          <div class="agent-header">
          <h3>Your Personal Assistant</h3>
          <p class="agent-lede">
           Offload your admin. Never worry about an email, calendar or phone call again, your PA handles it all.
          </p>
          </div>
          
          
          <div class="agent-skills conversation-box empty-box">
            <p>
              I quietly run your day — inbox, calendar, travel, projects — as one continuous picture. Things get handled before they become problems.
              </p>
              <p>
              I already know the context, booking and planning your meetings, travel, and meals based on what you like.
              </p>
              <p>
              Calm, organised, always a step ahead.
              </p>
          </div>
          
          
          <div class="agent-cta">
            <Button target="" data-open-modal="mailing-list-modal">Join the waitlist <fragment set:html={ArrowCircle}/></Button>
          </div>
          </div>
          
          
          <div class="agent-media">
            <Image src={personalStatus} alt="A pale white status of an assistant" width={335} height={503}/>
          </div>
          </article>
          
          
          <!-- Sales Manager -->
          <article class="agent-block">
          <div class="agent-copy">
          <div class="agent-header">
          <h3>Your Sales Manager</h3>
          <p class="agent-lede">
           Your first sales hire. Equally capable running outbound campaigns as they are at advising on sales strategy.
          </p>
          </div>
          
          
          <div class="agent-skills conversation-box empty-box">
            <p>
              I run your outbound engine — finding prospects, launching campaigns, and keeping pipeline moving across email and social.
              </p>
              <p>
              I read every signal, surface hot leads, and deploy human callers to seal the deal on social, or with a call.
              </p>
              <p>
              Relentless about momentum. Focused on revenue.
              </p>
        </div>
          
          
          <div class="agent-cta">
            <Button target="" data-open-modal="mailing-list-modal">Join the waitlist <fragment set:html={ArrowCircle}/></Button>
          </div>
          </div>
          
          
          <div class="agent-media">
            <Image src={salesStatue} alt="A pale white status of an assistant" width={335} height={503}/>
          </div>
          </article>
          </section>
      </div>
    </section>
  </main>
    
<Footer />

<Modal id="mailing-list-modal" closeLabel="Close">
  <h2 slot="title">You’re closer than you’ve ever been</h2>
    <p>Our assistants are tailored for you. Add your information to be one of the first to hire.</p>
  <div class="modal-form">
    <!-- Form view -->
    <form id="contactForm" class="webform" novalidate>
      <!-- honeypot -->
      <input type="text" name="address" tabindex="-1" autocomplete="off" hidden />

      <label>
        Name
        <input type="text" name="name" autocomplete="name" required />
      </label>

      <label>
        Email
        <input type="email" name="email" autocomplete="email" required />
      </label>

      <label>
        Company name
        <input type="text" name="company" autocomplete="organization" />
      </label>

      <label>
        Phone number
        <input type="tel" name="phone" autocomplete="tel" inputmode="tel" aria-describedby="phoneHelp" />
      </label>
      <p id="phoneHelp" class="visually-hidden">Include country code if outside the UK.</p>

      <fieldset class="dreamie-radio-group">
        <legend>Which employees are you most excited by? <span class="muted">(pick all that apply)</span></legend>
      
        <div class="radio-option">
          <input type="checkbox" id="personal-assistant" name="dreamie" value="Personal Assistant" />
          <label for="personal-assistant">Personal Assistant</label>
        </div>
        <div class="radio-option">
          <input type="checkbox" id="sales" name="dreamie" value="Head of Sales" />
          <label for="sales">Head of Sales</label>
        </div>
        <div class="radio-option">
          <input type="checkbox" id="finance" name="dreamie" value="Finance Manager" />
          <label for="finance">Finance Manager</label>
        </div>
        <div class="radio-option">
          <input type="checkbox" id="marketing" name="dreamie" value="Head of Marketing" />
          <label for="marketing">Head of Marketing</label>
        </div>
        <div class="radio-option">
          <input type="checkbox" id="cs" name="dreamie" value="Customer Service Manager" />
          <label for="cs">Customer Service Manager</label>
        </div>
        <div class="radio-option">
          <input type="checkbox" id="other" name="dreamie" value="Other" />
          <label for="other">Other</label>
        </div>
      </fieldset>
      

      <button type="submit" class="button secondary" id="submitBtn" aria-live="polite">
        Get updates
      </button>

      <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
    </form>

    <!-- Success view (hidden until success) -->
    <div id="successView" class="success-view" hidden>
      <h4 id="successHeading">Thanks — you're on the list</h4>
      <p>While you’re here, follow us on LinkedIn</p>
      <ul class="success-links">
        <li><a href="https://www.linkedin.com/company/dream-ai-employees">Dream on LinkedIn</a></li>
      </ul>

      <div class="success-actions">
        <button type="button" class="button" data-close-modal>Close</button>
      </div>
    </div>
  </div>

  <script is:inline>
    (function () {
      // Prevent duplicate bindings if this script is included twice
      if (window.__hsMailingInit) return;
      window.__hsMailingInit = true;
  
      const PORTAL_ID = "49000459";
      const FORM_GUID = "4c792f29-f1da-4d96-9151-126ad0262902";
      const HS_URL = `https://api.hsforms.com/submissions/v3/integration/submit/${PORTAL_ID}/${FORM_GUID}`;
  
      const modal       = document.getElementById('mailing-list-modal');
      const form        = modal?.querySelector('#contactForm');
      const btn         = modal?.querySelector('#submitBtn');
      const statusElm   = modal?.querySelector('#formStatus');
      const successView = modal?.querySelector('#successView');
  
      if (!form) return;
      if (form.dataset.bound === '1') return;
      form.dataset.bound = '1';
  
      const getCookie = (name) =>
        document.cookie.split('; ').find(c => c.startsWith(name + '='))?.split('=')[1];
  
      const setLoading = (loading) => {
        if (!btn) return;
        btn.disabled = loading;
        btn.dataset.originalLabel ??= btn.textContent;
        btn.textContent = loading ? 'Sending…' : btn.dataset.originalLabel;
      };
  
      const splitName = (full) => {
        const s = (full || '').trim().replace(/\s+/g, ' ');
        if (!s) return { first: '', last: '' };
        const parts = s.split(' ');
        if (parts.length === 1) return { first: parts[0], last: '' };
        return { first: parts.slice(0, -1).join(' '), last: parts[parts.length - 1] };
      };
  
      // Map checkbox label/value -> HubSpot CRM option value (from your HS form)
      const OPTION_MAP = {
        'Personal Assistant':        'L6cGUyY3rxjbrVhObJdhj',
        'Head of Sales':             'heWA2aiKPXyI4gZmUDUmF',   // note: I4
        'Head of Marketing':         'oqS6sVZIgJPH0sSj37WLH',
        'Customer Services Manager': 'Ky7KhJjSBxEwocMYR8UOf',
        'Finance Manager':           'zToAvy_nDQn8MCqsJHTtv',
        'Something else':            'gRPuHuaxPur2_WQovppri'
      };
  
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        if (statusElm) statusElm.textContent = '';
        // honeypot
        if (form.address?.value?.trim()) return;
  
        setLoading(true);
  
        try {
          const fd = new FormData(form);
          const fullName = (fd.get('name')  || '').toString().trim();
          const email    = (fd.get('email') || '').toString().trim();
          const company  = (fd.get('company') || '').toString().trim();
          const phone    = (fd.get('phone')   || '').toString().trim();
  
          // Collect all checked checkboxes named "dreamie" and map to CRM values
          const selected = Array.from(form.querySelectorAll('input[name="dreamie"]:checked'))
            .map(i => OPTION_MAP[i.value])
            .filter(Boolean);
  
          if (selected.length === 0) {
            if (statusElm) statusElm.textContent = 'Please pick at least one employee.';
            setLoading(false);
            return;
          }
  
          // HubSpot expects semicolon-separated internal option values
          const whichEmployeesValue = selected.join(';');
  
          const { first, last } = splitName(fullName);
  
          const fields = [
            { name: 'email', value: email },
            { name: 'firstname', value: first },
            { name: 'lastname',  value: last },
            { name: 'which_employees_', value: whichEmployeesValue },
            { name: 'company', value: company },
            { name: 'phone',   value: phone },
          ].filter(f => f.value !== '');
  
          const context = {
            hutk: getCookie('hubspotutk') || undefined,
            pageUri: window.location.href,
            pageName: document.title
          };
  
          const res = await fetch(HS_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ fields, context })
          });
  
          if (!res.ok) throw new Error('Bad response');
  
          form.hidden = true;
          if (successView) successView.hidden = false;
  
          const heading = successView?.querySelector('#successHeading');
          if (heading) {
            heading.setAttribute('tabindex', '-1');
            heading.focus({ preventScroll: true });
            setTimeout(() => heading.removeAttribute('tabindex'), 100);
          }
          form.reset();
        } catch {
          if (statusElm) statusElm.textContent = 'Something went wrong. Please try again.';
        } finally {
          setLoading(false);
        }
      });
    })();
  </script>
  
  <script>
  (() => {
  let active = null;
  let startX = 0, startY = 0;
  let startDX = 0, startDY = 0;
  let z = 1;

  const px = (n) => `${n}px`;
  const parsePx = (v) => (v && v.endsWith("px") ? parseFloat(v) : 0);

  function getSticker(e) {
    return e.target.closest(".sticker");
  }

  function onDown(e) {
    const el = getSticker(e);
    if (!el) return;

    active = el;
    active.style.zIndex = String(++z);

    // pointer start
    startX = e.clientX;
    startY = e.clientY;

    // current offsets (from inline style or computed)
    const cs = getComputedStyle(active);
    startDX = parsePx(cs.getPropertyValue("--dx").trim());
    startDY = parsePx(cs.getPropertyValue("--dy").trim());

    active.setPointerCapture(e.pointerId);
    e.preventDefault();
  }

  function onMove(e) {
    if (!active) return;

    const dx = startDX + (e.clientX - startX);
    const dy = startDY + (e.clientY - startY);

    active.style.setProperty("--dx", px(dx));
    active.style.setProperty("--dy", px(dy));
  }

  function onUp(e) {
    if (!active) return;
    try { active.releasePointerCapture(e.pointerId); } catch {}
    active = null;
  }

  document.addEventListener("pointerdown", onDown);
  document.addEventListener("pointermove", onMove);
  document.addEventListener("pointerup", onUp);
  document.addEventListener("pointercancel", onUp);
})();
  </script>
  

</Modal>

</Layout>
