---
import Layout from '../../layouts/Layout.astro';

import { Image } from 'astro:assets';

import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';

import Button from '../../components/Button.astro';

import iconAward from '/src/img/award.svg';
import iconAnnouncement from '/src/img/announcement.svg';
import iconMessageAlert from '/src/img/message-alert-square.svg';

import smallHOS1 from '/src/img/hos-small-1.png';
import smallHOS2 from '/src/img/hos-small-2.png';

import arrowRight from '/src/img/new-arrow-right.svg';

import seoPane1 from '/src/img/hos-1--phone.png';
import seoPane2 from '/src/img/hos-2--whatsapp.png';

import headOfSales from '/src/img/head-of-sales.png';
import financeManager from '/src/img/finance-manager.png';
import headOfMarketing from '/src/img/head-of-marketing.png';
import csManager from '/src/img/cs-manager.png';
import personalAssistant from '/src/img/personal-assistant.png';

import Modal from '../../components/Modal.astro';

import HireGuyBlock from '../../components/HireGuyBlock.astro';


---

<Layout title="Meet your Sales Pro - Dream">
	<Navigation />
	<header class="hero-home solo-header">
		<div class="hero-elements main-content">
            <figure class="dreamie-figure seo-header">
              <Image
          src={smallHOS1}
          alt=""
          class="dreamie-img"
          aria-hidden="true"
          format="webp"
          loading="eager"
          fetchpriority="high"
        />

        <Image
          src={headOfSales}
          alt=""
          class="dreamie-img"
          aria-hidden="true"
          format="webp"
          loading="eager"
          fetchpriority="high"
        />

        <Image
          src={smallHOS2}
          alt=""
          class="dreamie-img"
          aria-hidden="true"
          format="webp"
          loading="eager"
          fetchpriority="high"
        />
            </figure>
			<section class="header-text">
				<h1 class="page-title">Meet your <span class="highlight-title">Sales Pro</span></h1>
				<span>Your Sales Pro has one mission, and that’s growing your business every day. They’ll draft outreach strategies, search high and low for new customers, then create the perfect message to reach those customers.</span>
			</section>
		</div>
	</header>
	<main class="pinch-footer">
        <section class="main-content dreamie-module" aria-labelledby="dreamie-heading">
            <article class="content-container">
              <div class="dreamie-grid">
                <!-- Image -->
                
          
                <!-- Text content -->
                <div class="dreamie-content">
                  <h2 id="dreamie-heading">
                    Your Head of Sales makes growing your business their personal mission.
                  </h2>
          
                  <p>
                    Your Sales Manager is here to win business, every day. They build and run targeted outreach, digging into every corner of your market to uncover customers worth having. Every lead is researched, every prospect understood, and every message sharpened to cut through the noise and get a reply.
                  </p>
                  <p>
                    When interest sparks, they make sure it catches. Your Sales Manager handles the questions, keeps the conversation alive, and deals with all the admin that comes with turning a “maybe” into a “yes.” You skip the grind and step in when it counts — to seal the deal and take the win.
                  </p>
          
                  <h3>Your Head of Sales is</h3>
                  <ul class="dreamie-feature-list" role="list">
                    <li class="dreamie-feature">
                      <Image
                        src={iconAnnouncement}
                        alt=""
                        aria-hidden="true"
                        class="dreamie-feature-icon"
                        format="webp"
                      />
                      <p>Ready to grow your business with high-quality sales outreach.</p>
                    </li>
                    <li class="dreamie-feature">
                      <Image
                        src={iconAward}
                        alt=""
                        aria-hidden="true"
                        class="dreamie-feature-icon"
                        format="webp"
                      />
                      <p>Always managing conversations to close the deal.</p>
                    </li>
                    <li class="dreamie-feature">
                      <Image
                        src={iconMessageAlert}
                        alt=""
                        aria-hidden="true"
                        class="dreamie-feature-icon"
                        format="webp"
                      />
                      <p>Keeping you up to date on closed deals or important information.</p>
                    </li>
                  </ul>
          
                  <Button 
                    label="Hire your own Head of Sales" 
                    href="/get-started?pro=sales" 
                    target="" 
                    variant="primary" 
                    size="large" 
                    ><img src={arrowRight.src} alt="A right facing arrow"></Button>
                </div>
              </div>
            </article>
          </section>
          <section class="main-content">
            <article class="content-container">
              <div class="content-title">
                <h2>Available <span class="highlight-title">anywhere, anytime.</span></h2>
                <p>Dream works with the apps you use every day, so you can call or message to get jobs done.</p>
              </div>
            </article>
            <div class="seo-panels">
              <div class="panel">
                <div class="panel-image">
                  <Image
                  src={seoPane1}
                  alt="A call on a phone coming from your Dream PA"
                  format="webp"
                />
                </div>
                <div class="panel-content">
                  <h3 class="panel-title">Important work doesn't wait for you to open an app.</h3>
                  <div class="panel-footer">
                    <p class="panel-subtitle">Your Head of Sales is only a call away, letting you get updates and take action by just asking.</p>
                    <Button
                      label="Learn more"
                      href="/how-it-works"
                      target="_self"
                      size="medium"
                      variant="secondary"
                  />
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-image">
                  <Image
                  src={seoPane2}
                  alt="A WhatsApp chat with your PA"
                  format="webp"
                />
                </div>
                <div class="panel-content">
                  <h3 class="panel-title">Share documents, voice notes, or just get updates.</h3>
                  <div class="panel-footer">
                    <p class="panel-subtitle">Chat with Dream where you chat with everyone. Manage your workload with voice notes, or just message.</p>
                    <Button
                      label="Start now"
                      href="/get-started"
                      target="_self"
                      size="medium"
                      variant="secondary"
                  />
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="main-content pricing-table" aria-labelledby="new-employees-heading">
            <article class="content-container">
              <div class="content-title">
                <h2>Meet the rest of <span class="highlight-title">your team</span></h2>
              </div>
          
              <ul class="employee-card-grid compact-grid" role="list">
                <li class="employee-card">
                  <article class="card">
                    <div class="card-header">
                      <figure class="card-figure">
                        <Image
                        src={personalAssistant}
                        alt=""
                        class="card-figure-img"
                        aria-hidden="true"
                        format="webp"
                      />
                      </figure>
          
                      <p class="card-badge" aria-label="Starting soon">
                        <span aria-hidden="true">Ready to hire</span>
                      </p>
          
                      <h3 class="card-title">
                        Personal Pro
                      </h3>
                    </div>
          
                    <footer class="card-footer">
                      <Button label="Hire them now" href="/your-ai-pros/personal-pro" target="" variant="primary" size="medium" />
                    </footer>
                  </article>
                </li>

                <li class="employee-card">
                  <article class="card">
                    <div class="card-header">
                      <figure class="card-figure">
                        <Image
                          src={financeManager}
                          alt=""
                          class="card-figure-img"
                          aria-hidden="true"
                          format="webp"
                        />
                      </figure>
          
                      <p class="card-badge" aria-label="Starting soon">
                        <span aria-hidden="true">Starting soon</span>
                      </p>
          
                      <h3 class="card-title">
                        Finance Pro
                      </h3>
                    </div>
          
                    <footer class="card-footer">
                      <button class="button secondary medium" data-open-modal="mailing-list-modal">Get notified</button>
                    </footer>
                  </article>
                </li>
          
                <!-- Head of Marketing -->
                <li class="employee-card">
                  <article class="card">
                    <div class="card-header">
                      <figure class="card-figure">
                        <Image
                          src={headOfMarketing}
                          alt=""
                          class="card-figure-img"
                          aria-hidden="true"
                          format="webp"
                        />
                      </figure>
          
                      <p class="card-badge" aria-label="Starting soon">
                        <span aria-hidden="true">Starting soon</span>
                      </p>
          
                      <h3 class="card-title">
                        Marketing Pro
                      </h3>
                    </div>
          
                    <footer class="card-footer">
                      <button class="button secondary medium" data-open-modal="mailing-list-modal">Get notified</button>
                    </footer>
                  </article>
                </li>
          
                <!-- CS Manager -->
                <li class="employee-card">
                  <article class="card">
                    <div class="card-header">
                      <figure class="card-figure">
                        <Image
                          src={csManager}
                          alt=""
                          class="card-figure-img"
                          aria-hidden="true"
                          format="webp"
                        />
                      </figure>
          
                      <p class="card-badge" aria-label="Starting soon">
                        <span aria-hidden="true">Starting soon</span>
                      </p>
          
                      <h3 class="card-title">
                        Support Pro
                      </h3>
                    </div>
          
                    <footer class="card-footer">
                      <button class="button secondary medium" data-open-modal="mailing-list-modal">Get notified</button>
                    </footer>
                  </article>
                </li>
              </ul>
          
            </article>
          </section>

          <HireGuyBlock />
	</main>
	<Footer />

  <Modal id="mailing-list-modal" closeLabel="Close">
    <h2 slot="title">Hire your own employees</h2>
    <p>We're getting our employees ready to onboard, get an instant notification when they're ready to hire.</p>
  
    <div class="modal-form">
      <!-- Form view -->
      <form id="contactForm" class="webform" novalidate>
        <!-- honeypot -->
        <input type="text" name="address" tabindex="-1" autocomplete="off" hidden />
  
        <label>
          Name
          <input type="text" name="name" autocomplete="name" required />
        </label>
  
        <label>
          Email
          <input type="email" name="email" autocomplete="email" required />
        </label>
  
        <label>
          Company name
          <input type="text" name="company" autocomplete="organization" />
        </label>
  
        <label>
          Phone number
          <input type="tel" name="phone" autocomplete="tel" inputmode="tel" aria-describedby="phoneHelp" />
        </label>
        <p id="phoneHelp" class="visually-hidden">Include country code if outside the UK.</p>
  
        <fieldset class="dreamie-radio-group">
          <legend>Which employees are you most excited by? <span class="muted">(pick all that apply)</span></legend>
        
          <div class="radio-option">
            <input type="checkbox" id="personal-assistant" name="dreamie" value="Personal Assistant" />
            <label for="personal-assistant">Personal Assistant</label>
          </div>
          <div class="radio-option">
            <input type="checkbox" id="sales" name="dreamie" value="Head of Sales" />
            <label for="sales">Head of Sales</label>
          </div>
          <div class="radio-option">
            <input type="checkbox" id="finance" name="dreamie" value="Finance Manager" />
            <label for="finance">Finance Manager</label>
          </div>
          <div class="radio-option">
            <input type="checkbox" id="marketing" name="dreamie" value="Head of Marketing" />
            <label for="marketing">Head of Marketing</label>
          </div>
          <div class="radio-option">
            <input type="checkbox" id="cs" name="dreamie" value="Customer Service Manager" />
            <label for="cs">Customer Service Manager</label>
          </div>
          <div class="radio-option">
            <input type="checkbox" id="other" name="dreamie" value="Other" />
            <label for="other">Other</label>
          </div>
        </fieldset>
        
  
        <button type="submit" class="button secondary" id="submitBtn" aria-live="polite">
          Get updates
        </button>
  
        <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
      </form>
  
      <!-- Success view (hidden until success) -->
      <div id="successView" class="success-view" hidden>
        <h4 id="successHeading">Thanks — you're on the list</h4>
        <p>While you’re here, follow us on LinkedIn</p>
        <ul class="success-links">
          <li><a href="https://www.linkedin.com/company/dream-ai-employees">Dream on LinkedIn</a></li>
        </ul>
  
        <div class="success-actions">
          <button type="button" class="button" data-close-modal>Close</button>
        </div>
      </div>
    </div>
  
    <script is:inline>
      (function () {
        // Prevent duplicate bindings if this script is included twice
        if (window.__hsMailingInit) return;
        window.__hsMailingInit = true;
    
        const PORTAL_ID = "49000459";
        const FORM_GUID = "4c792f29-f1da-4d96-9151-126ad0262902";
        const HS_URL = `https://api.hsforms.com/submissions/v3/integration/submit/${PORTAL_ID}/${FORM_GUID}`;
    
        const modal       = document.getElementById('mailing-list-modal');
        const form        = modal?.querySelector('#contactForm');
        const btn         = modal?.querySelector('#submitBtn');
        const statusElm   = modal?.querySelector('#formStatus');
        const successView = modal?.querySelector('#successView');
    
        if (!form) return;
        if (form.dataset.bound === '1') return;
        form.dataset.bound = '1';
    
        const getCookie = (name) =>
          document.cookie.split('; ').find(c => c.startsWith(name + '='))?.split('=')[1];
    
        const setLoading = (loading) => {
          if (!btn) return;
          btn.disabled = loading;
          btn.dataset.originalLabel ??= btn.textContent;
          btn.textContent = loading ? 'Sending…' : btn.dataset.originalLabel;
        };
    
        const splitName = (full) => {
          const s = (full || '').trim().replace(/\s+/g, ' ');
          if (!s) return { first: '', last: '' };
          const parts = s.split(' ');
          if (parts.length === 1) return { first: parts[0], last: '' };
          return { first: parts.slice(0, -1).join(' '), last: parts[parts.length - 1] };
        };
    
        // Map checkbox label/value -> HubSpot CRM option value (from your HS form)
        const OPTION_MAP = {
          'Personal Assistant':        'L6cGUyY3rxjbrVhObJdhj',
          'Head of Sales':             'heWA2aiKPXyI4gZmUDUmF',   // note: I4
          'Head of Marketing':         'oqS6sVZIgJPH0sSj37WLH',
          'Customer Services Manager': 'Ky7KhJjSBxEwocMYR8UOf',
          'Finance Manager':           'zToAvy_nDQn8MCqsJHTtv',
          'Something else':            'gRPuHuaxPur2_WQovppri'
        };
    
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          if (statusElm) statusElm.textContent = '';
          // honeypot
          if (form.address?.value?.trim()) return;
    
          setLoading(true);
    
          try {
            const fd = new FormData(form);
            const fullName = (fd.get('name')  || '').toString().trim();
            const email    = (fd.get('email') || '').toString().trim();
            const company  = (fd.get('company') || '').toString().trim();
            const phone    = (fd.get('phone')   || '').toString().trim();
    
            // Collect all checked checkboxes named "dreamie" and map to CRM values
            const selected = Array.from(form.querySelectorAll('input[name="dreamie"]:checked'))
              .map(i => OPTION_MAP[i.value])
              .filter(Boolean);
    
            if (selected.length === 0) {
              if (statusElm) statusElm.textContent = 'Please pick at least one employee.';
              setLoading(false);
              return;
            }
    
            // HubSpot expects semicolon-separated internal option values
            const whichEmployeesValue = selected.join(';');
    
            const { first, last } = splitName(fullName);
    
            const fields = [
              { name: 'email', value: email },
              { name: 'firstname', value: first },
              { name: 'lastname',  value: last },
              { name: 'which_employees_', value: whichEmployeesValue },
              { name: 'company', value: company },
              { name: 'phone',   value: phone },
            ].filter(f => f.value !== '');
    
            const context = {
              hutk: getCookie('hubspotutk') || undefined,
              pageUri: window.location.href,
              pageName: document.title
            };
    
            const res = await fetch(HS_URL, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ fields, context })
            });
    
            if (!res.ok) throw new Error('Bad response');
    
            form.hidden = true;
            if (successView) successView.hidden = false;
    
            const heading = successView?.querySelector('#successHeading');
            if (heading) {
              heading.setAttribute('tabindex', '-1');
              heading.focus({ preventScroll: true });
              setTimeout(() => heading.removeAttribute('tabindex'), 100);
            }
            form.reset();
          } catch {
            if (statusElm) statusElm.textContent = 'Something went wrong. Please try again.';
          } finally {
            setLoading(false);
          }
        });
      })();
    </script>
  </Modal>
</Layout>