---
import Layout from '../layouts/Layout.astro';

import Button from '../components/Button.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

import whatsAppIcon from '/src/img/whats-app-icon.svg';
import phoneIcon from '/src/img/phone-call.svg';

import "../styles/main.scss";

import Modal from '../components/Modal.astro';

import qrImg from '/src/img/qr.png';
---

<Layout title="Dream - Just a call gets you started">
    <Navigation />
	<header class="hero-home solo-header">
		<div class="hero-elements main-content">
			<section class="header-text">
				<h1 class="page-title">Get started with Dream</h1>
				<p>It takes minutes to get started, choose an option below.</p>
			</section>
		</div>
	</header>
	<main>
		<section class="get-started-content main-content">
			<article class="content-container">
				<div class="start-cards">
					<div class="card-item">
						<h2>Call to start</h2>
						<p>Start a voice call with your Personal Assistant and theyâ€™ll talk you through creating your Dream account.</p>
						<Button
							label="Call your PA"
							href="tel:+447476963324"
							variant="secondary"
							size="medium"
							data-mobile-call
							>
							<img src={phoneIcon.src} role="presentation" alt="" />
						</Button>

						<Button
							label="Call your PA"
							variant="secondary"
							size="medium"
							data-open-modal="call-modal"
							>
							<img src={phoneIcon.src} role="presentation" alt="" />
						</Button>
					</div>
					<div class="card-item">
						<h2>WhatsApp to start</h2>
						<p>Chat with your Personal Assistant on WhatsApp, and create your Dream account as easily as chatting.</p>
						<Button
						label="Message on WhatsApp"
						href="https://wa.me/447476963324?text=Hi%20I%27m%20interested%20in%20Dream"
						target=""
						variant="secondary"
						size="medium"
						><img src={whatsAppIcon.src} role="presentation" alt=""></Button>
					</div>
				</div>
			</article>
		</section>
	</main>
	<Modal id="call-modal" closeLabel="Close">
		<h2 slot="title" id="qrTitle">Get started with Dream in minutes</h2>
		<p>All it takes is a quick call. You'll speak directly to your Personal Assistant, no humans involved.</p>
		<section class="qr-modal">
		  <figure class="qr-modal__visual">
			<img src={qrImg.src} width="256" height="256" alt="">
		  </figure>
		</section>
	  </Modal>
    <Footer />

	<script is:inline>
		(function () {
		  var mqDesktop = matchMedia('(hover: hover) and (pointer: fine)');
		  function set() {
			var uaMobile = (navigator.userAgentData && navigator.userAgentData.mobile === true);
			var hasTouch = (navigator.maxTouchPoints || 0) > 0;
	  
			// Desktop-like only if it *looks* like desktop AND not explicitly mobile/touch
			var desktoplike = mqDesktop.matches && !uaMobile && !hasTouch;
	  
			document.documentElement.classList.toggle('desktoplike', desktoplike);
			// Optional: quick debug to verify what DevTools is emulating
			// console.table({ hoverHover: matchMedia('(hover:hover)').matches, pointerFine: matchMedia('(pointer:fine)').matches, uaMobile, maxTouchPoints: navigator.maxTouchPoints || 0, desktoplike });
		  }
		  set();
		  mqDesktop.addEventListener?.('change', set);
		})();
	  </script>
</Layout>